# Протокол взаимодействия в системе тестирования

## Общий формат

Первые 5 символов - код запроса, остальное до \0 - тело запроса

Последний символ кода - пробел

Ответ на запрос начинается с того же кода, затем идёт 3 символа на код ошибки, а дальше тело запроса до \0

Последний символ кода ошибки - тоже пробел

### Коды ошибок:

- OK - всё хорошо

- UN - такого пользователя нет

- UE - такой пользователь уже существует

- TE - тест закончился

- NA - пользователь не авторизован

- TN - теста с таким id нет

- BR - неверно сформулированный запрос

- NT - пользователь ещё не прошёл ни одного теста

- TE - сервер решил разорвать соединение

## Запросы

- **Регистрация**

Код - REGI

Тело запроса - логин нового пользователя

Тело ответа - пустое

Возможные ошибки: UE

- **Авторизация**

Код - AUTH

Тело запроса - логин пользователя

Тело ответа - пустое

Возможные ошибки: UN

- **Список тестов**

Код - LIST

Тело запроса - пустое

Тело ответа - список тестов

Возможные ошибки: NA

- **Выбор теста**

Код - TEST

Тело запроса - id теста

Тело ответа - первый вопрос

Возможные ошибки: NA

- **Ответ на задание**

Код - ANSW

Тело запроса - ответ на задание - просто строка

Тело ответа - следующий вопрос, если код ошибки OK, результаты теста, если код ошибки TE

Возможные ошибки: NA, TE

- **Результаты последнего тестирования**

Код - LAST

Тело запроса - пустое

Тело ответа - результат теста

Возможные ошибки: NA, NT

- **Разрыв соединения**

Код - GBYE

Тело запроса - пустое

Тело ответа - ответ не требуется

Возможные ошибки: их нет

### Список тестов

test_id1 test_name1|test_id1 test_name1|

### Задание

text&number1 answer1|number2 answer2|

### Результат теста

number1 mark1|number2 mark2|

